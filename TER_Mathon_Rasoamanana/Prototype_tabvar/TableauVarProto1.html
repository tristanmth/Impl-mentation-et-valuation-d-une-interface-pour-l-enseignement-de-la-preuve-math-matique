<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tableau Plein Écran</title>
<script src="script.js"></script>
<link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="enter_function">
<input id="function-name"  style ="width: 10px;" placeholder="f" /> (<input id="var-name" style ="width: 10px;" placeholder="x"/>) = 
<input id="function-expr" placeholder="(2x-1)/(5x²-1)"/>
</div>
<div class="enter_deriv_function"><span id="deriv-function">f</span> '(<span id="deriv-var">x</span>) = </span> <input id="function-derivation" placeholder="-(10x²-10x+2)/(1-5x²)²"/></div>



<button onclick="addExtraRow()">Ajouter une ligne </button>

<!-- <div id="functionsContainer"></div> -->

<table id="tabvar">
<tr>
    <td class="col1"><span id="first-cell">x</span></td>
    <td class="additional-column">
        <div class="dropdown" onmouseover="showDropdown(this)" onmouseleave="hideDropdown(this)">
            <div class="value" type="button">-inf</div>
            <div class="dropdown-content">
                <a href="#" onclick="changeValue(this)">Changer</a>
            </div>
        </div>
    </td>
    <td class="additional-column">
        <button class="add-value" type="button" onclick="addColumn(this)">+</button>
    </td>
    <td class="additional-column">
        <div class="dropdown" onmouseover="showDropdown(this)" onmouseleave="hideDropdown(this)">
            <div class="value" type="button">0</div>
            <div class="dropdown-content">
                <a href="#" onclick="changeValue(this)">Changer</a>
                <a href="#" onclick="deleteColumns(this)">Supprimer</a>
            </div>
        </div>
    </td>
    <td class="additional-column">
        <button class="add-value" type="button" onclick="addColumn(this)">+</button>
    </td>
    <td class="additional-column">
        <div class="dropdown" onmouseover="showDropdown(this)" onmouseleave="hideDropdown(this)">
            <div class="value" type="button">+inf</div>
            <div class="dropdown-content">
                <a href="#" onclick="changeValue(this)">Changer</a>
            </div>
        </div>
    </td>
</tr>
<tr>
    <td class="col1" id="before-last-cell"><span id="before-last-cell-function">f</span> '(<span id="before-last-cell-var">x</span>)</span></td>
    <td class="additional-column"></td>
    <td class="additional-column">
        <div class="dropdown" onmouseover="showDropdown(this)" onmouseleave="hideDropdown(this)">
            <button class="moreLess" type="button">+ -</button>
            <div class="dropdown-content" style="display: none;">
                <a href="#" onclick="toggleMore(this, '-')">Négatif</a>
                <a href="#" onclick="toggleMore(this, '+')">Positif</a>
            </div>
        </div>
    </td>
    <td class="additional-column">
        <div class="dropdown" onmouseover="showDropdown(this)" onmouseleave="hideDropdown(this)">
            <button class="VI" type="button">|| 0 ∅</button> 
            <div class="dropdown-content" style="display: none;">
                <a href="#" onclick="toggleVI(this, '||')">Valeur Interdite</a>
                <a href="#" onclick="toggleVI(this, '0')">Zéro</a>
                <a href="#" value="∅" style="display: none;" onclick="toggleVI(this, '∅')">Vide</a>
            </div>
        </div>
    </td>
    <td class="additional-column">
        <div class="dropdown" onmouseover="showDropdown(this)" onmouseleave="hideDropdown(this)">
            <button class="moreLess" type="button">+ -</button>
            <div class="dropdown-content" style="display: none;">
                <a href="#" onclick="toggleMore(this, '-')">Négatif</a>
                <a href="#" onclick="toggleMore(this, '+')">Positif</a>
            </div>
        </div>
    </td>
    <td class="additional-column"></td>
</tr>
<tr>
    <td class="col1" id="last-cell"><span id="last-cell-function">f</span> (<span id="last-cell-var">x</span>)</span></td>
    <td class="additional-column"></td>
    <td class="additional-column">    
        <div class="dropdown" onmouseover="showDropdown(this)" onmouseleave="hideDropdown(this)">
            <button class="increase" type="button">&#8599 &#8600</button>
            <div class="dropdown-content" style="display: none;">
                <a href="#" onclick="toggleIncrease(this, '&#8599')">Croissant</a>
                <a href="#" onclick="toggleIncrease(this, '&#8600')">Décroissant</a>
            </div>
        </div>
    </td>
    <td class="additional-column"></td>
    <td class="additional-column">
        <div class="dropdown" onmouseover="showDropdown(this)" onmouseleave="hideDropdown(this)">
            <button class="increase" type="button">&#8599 &#8600</button>
            <div class="dropdown-content" style="display: none;">
                <a href="#" onclick="toggleIncrease(this, '&#8599')">Croissant</a>
                <a href="#" onclick="toggleIncrease(this, '&#8600')">Décroissant</a>
            </div>
        </div>
    </td>
    <td class="additional-column"></td>
</tr>
</table>

<!-- Affiche ce que les lignes contiennent -->
<div id="valuesContainer1"></div>
<div id="valuesContainer2"></div>
<div id="valuesContainer3"></div>
<button id="maj_contain_value" onmouseover="showValues()">MAJ valeurs</button>

<button type="button" onclick="removeMiddleRows()">Supprimer les lignes intermédiaires</button>

<script>
changeVarFun();

document.addEventListener('DOMContentLoaded', initializeTable);

// Ajoute un gestionnaire d'événement pour la soumission du formulaire
document.getElementById('tabvar').addEventListener('submit', function(event) {
// Empêche la soumission du formulaire si la validation échoue
if (!validateForm()) {
    event.preventDefault(); // Annule la soumission
}
});

// Ajoute des écouteurs d'événements aux champs de saisie
document.getElementById('function-name').addEventListener('input', function() {
    // Récupére la valeur saisie dans la zone de texte
    var funName = this.value;

// Si la valeur est vide, utilisez "x" par défaut
if (funName.trim() === '') {
    funName = 'f';
}

// Met à jour le contenu de la cellule avec la nouvelle valeur
var derivFun = document.getElementById("deriv-function");
derivFun.textContent = funName;
var beforeLastCellSpan = document.getElementById("before-last-cell-function");
beforeLastCellSpan.textContent = funName;
var lastCellSpan = document.getElementById("last-cell-function");
lastCellSpan.textContent = funName;

});

document.getElementById('var-name').addEventListener('input', function() {
// Récupére la valeur saisie dans la zone de texte
var varName = this.value;

// Si la valeur est vide, utilise "x" par défaut
if (varName.trim() === '') {
    varName = 'x';
}

// Met à jour le contenu de la cellule avec la nouvelle valeur
var derivVar = document.getElementById("deriv-var");
derivVar.textContent = varName;
var firstCellSpan = document.getElementById("first-cell");
firstCellSpan.textContent = varName;
var beforeLastCellSpan = document.getElementById("before-last-cell-var");
beforeLastCellSpan.textContent = varName;
var lastCellSpan = document.getElementById("last-cell-var");
lastCellSpan.textContent = varName;
});

</script>
</body>
</html>
